!function(o){var b={};function e(t){if(b[t])return b[t].exports;var n=b[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=o,e.c=b,e.d=function(o,b,t){e.o(o,b)||Object.defineProperty(o,b,{enumerable:!0,get:t})},e.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,b){if(1&b&&(o=e(o)),8&b)return o;if(4&b&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&b&&"string"!=typeof o)for(var n in o)e.d(t,n,function(b){return o[b]}.bind(null,n));return t},e.n=function(o){var b=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(b,"a",b),b},e.o=function(o,b){return Object.prototype.hasOwnProperty.call(o,b)},e.p="/dist",e(e.s=5)}([function(o,b,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.readRLE=function(o){const b=o.split(/[\r\n]+/g);let e=0;for(;"#"===b[e++][0];);const t=b[e-1],n=t.match(/x\s*=\s*([0-9]+)/),i=t.match(/y\s*=\s*([0-9]+)/);if(!n||!i)return;const r=Number(n[1]),s=Number(i[1]),a=new Uint8Array(r*s);let l=0,d=0,c=1;for(;e<b.length;){const o=b[e++].match(/[0-9]+|[bo]|\$|!/g);if(!o)continue;let t=!1;for(let b=0;b<o.length;b++){const e=o[b];if("b"===e)l+=c,c=1;else if("o"===e){for(let o=0;o<c;o++)a[r*d+l]=1,l++;c=1}else if("$"===e)l=0,d+=c,c=1;else{if("!"===e){t=!0;break}Number(e)&&(c=Number(e))}}if(t)break}return{width:r,height:s,data:a}}},function(o,b,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.figures={glider:"#C This is a glider.\nx = 3, y = 3\nbo$2bo$3o!",gosperGliderGun:"#N Gosper glider gun\n#C This was the first gun discovered.\n#C As its name suggests, it was discovered by Bill Gosper.\nx = 36, y = 9, rule = B3/S23\n24bo$22bobo$12b2o6b2o12b2o$11bo3bo4b2o12b2o$2o8bo5bo3b2o$2o8bo3bob2o4b\nobo$10bo5bo7bo$11bo3bo$12b2o!",gunstar:"#N Gunstar\n#O David Buckingham\n#C A four-barreled true period 144 glider gun found in 1990.\n#C www.conwaylife.com/wiki/index.php?title=Gunstar\nx = 149, y = 149, rule = b3/s23\n40b2o107b$40b2o107b$40b2o107b$40bo108b$39bobo107b$39bob2o106b2$46b2o\n101b$40b2o4b2o101b$40b2o107b2$60bo26b2o60b$50b2o8b3o24bo61b$50bobo10bo\n21bobo61b$50bo11b2o15bo5b2o4b2o56b$78b2o11b2o56b$51b2o25bobo68b$47bo3b\no2bo37bo56b$46bo2bob3o37bobo55b$46b3obo39bo2bo55b$40b2o5bob3o37bo2bo\n56b$40b2o11bo95b$40b2o22b2o23bo2bo56b$41bo22b2o25b2o56b$40bobo106b$39b\n2obo12b3o91b$55bo93b$56bo92b$40b2o107b$40b2o57b3o47b2$73b2o20b3obo2bo\n46b$74bo7b2o9bob3o51b$71b3o8b2o8bo6b3o47b$71bo20b2o55b2$95b2o52b$87b2o\n9b2o49b$87b2o7bobo50b$43b2o52bo25bo19b2o4b$43b2o74b2o2b2ob3o10b2o4b4o$\n102b2o15b2o4b4o10b2o2b2ob3o$84b2o15b3o19b2o18bo5b$43b3o34b2o2b2o2b2o\n10bobo2bo2b2o39b$44b2o34bobo2bo2b2o10b2o2b2o2b2o39b$41b2o38b3o20b2o43b\n$31bo9b3o38b2o45b2o9b2o7b$29bo3bo8bobo83b2obo8b2o7b$29bo3bo9b2o84bo19b\n$29bobobo3bo90bobo18b$37b2o89b2o4b3o12b$31b2o6bo88bob3o3bo12b$31b2o3bo\nbo91bobo2bo13b$31b2o3bo90bo2bo18b$131bo17b$18b2o12bobo26bo60b2o25b$14b\n2obo2bob2o9b2o26bobo57bobo25b$14b2o2bo4bo37b2o60bo25b$19bo129b$20bobo\n20b2o104b$11bo25b2o4b2o91b2o11b$11b3o23b2o52b3o42bo12b$14bo76bo42bobo\n12b$13b2o27b3o47bo41b2o13b$42b2o81b2o22b$32b2o11b2o78b2o22b$32b2o10b3o\n102b$43bobo103b$16bo26b2o104b$14b2o133b$15b2o132b$114b2o33b$115bo33b$\n115bobo31b$31b2o83b2o31b$31bobo115b$33bo115b$33b2o114b$132b2o15b$133b\n2o14b$104b2o26bo16b$103bobo43b$102b3o10b2o32b$22b2o78b2o11b2o32b$22b2o\n81b2o42b$13b2o41bo47b3o27b2o13b$12bobo42bo76bo14b$12bo42b3o52b2o23b3o\n11b$11b2o91b2o4b2o25bo11b$104b2o20bobo20b$129bo19b$25bo60b2o37bo4bo2b\n2o14b$25bobo57bobo26b2o9b2obo2bob2o14b$25b2o60bo26bobo12b2o18b$17bo\n131b$18bo2bo90bo3b2o31b$13bo2bobo91bobo3b2o31b$12bo3b3obo88bo6b2o31b$\n12b3o4b2o89b2o37b$18bobo90bo3bobobo29b$19bo84b2o9bo3bo29b$7b2o8bob2o\n83bobo8bo3bo29b$7b2o9b2o45b2o38b3o9bo31b$43b2o20b3o38b2o41b$39b2o2b2o\n2b2o10b2o2bo2bobo34b2o44b$39b2o2bo2bobo10b2o2b2o2b2o34b3o43b$5bo18b2o\n19b3o15b2o84b$3ob2o2b2o10b4o4b2o15b2o102b$4o4b2o10b3ob2o2b2o74b2o43b$\n4b2o19bo25bo52b2o43b$50bobo7b2o87b$49b2o9b2o87b$52b2o95b2$55b2o20bo71b\n$47b3o6bo8b2o8b3o71b$51b3obo9b2o7bo74b$46bo2bob3o20b2o73b2$47b3o57b2o\n40b$107b2o40b$92bo56b$93bo55b$91b3o12bob2o39b$106bobo40b$56b2o25b2o22b\no41b$56bo2bo23b2o22b2o40b$95bo11b2o40b$56bo2bo37b3obo5b2o40b$55bo2bo\n39bob3o46b$55bobo37b3obo2bo46b$56bo37bo2bo3bo47b$68bobo25b2o51b$56b2o\n11b2o78b$56b2o4b2o5bo15b2o11bo50b$61bobo21bo10bobo50b$61bo24b3o8b2o50b\n$60b2o26bo60b2$107b2o40b$101b2o4b2o40b$101b2o46b2$106b2obo39b$107bobo\n39b$108bo40b$107b2o40b$107b2o40b$107b2o!",breeder:"#C Generated by copy.sh/life\nx = 797, y = 339, rule = B3/S23\n453b2o$452b4o$452b2ob2o$454b2o$$450bo12b4o$448b3o11b6o$448bo13b4ob2o$\n438b3o8bo16b2o9b2o$437b5o31b4ob2o$378b3o40bo15b3ob2o30b6o$377b5o33bo2b\n2ob2o17b2o32b4o$377b3ob2o31bo2bo16bo$380b2o32b2ob2o14bo$407b2o6bo2b2o\n13bo33b2o6bo$402bo4bobo3b2o2b2o12bobo3bo28bob2o4bob2o$401b3o4b3o2bo4bo\n8bo3bobo2bobo11b3o12b3o6bo3bo$387b2o19b2o4bobob2o7bo3bo2bo3bo4b2o5b2o\n7b2o5b2o6b2o2bo$387b2o13b3o9bob2o14bo4bo5b2o5bobo6b2o6b3o3bobob2o$402b\n3o27bo3bo31b2o3bob2o$$402b3o27bo3bo31b2o3bob2o$387b2o13b3o9bob2o14bo4b\no5b2o5bobo6b2o6b3o3bobob2o$387b2o19b2o4bobob2o7bo3bo2bo3bo4b2o5b2o7b2o\n5b2o6b2o2bo$401b3o4b3o2bo4bo8bo3bobo2bobo11b3o12b3o6bo3bo$402bo4bobo3b\n2o2b2o12bobo3bo28bob2o4bob2o$407b2o6bo2b2o13bo33b2o6bo$380b2o32b2ob2o\n14bo$377b3ob2o31bo2bo16bo$377b5o33bo2b2ob2o17b2o32b4o$378b3o40bo15b3ob\n2o30b6o$437b5o31b4ob2o$438b3o8bo16b2o9b2o$448bo13b4ob2o$448b3o11b6o$\n463b4o$522bo2bo$526bo$522bo3bo$523b4o$425bo108b2o$424bo107bo4bo$424b3o\n111bo$509bo22bo5bo$507bo3bo21b6o5b6o$449bo62bo30bo5bo$447bo3bo55bo4bo\n36bo$452bo55b5o20b2o8bo4bo$401bo45bo4bo45bo2bo33bo9b2o$400bo47b5o43bo\n4bo30bob2o$400b3o91b3o3bo31bo3bob2o$493b2o2b3o2bobo11b2o14b3obob2o6b2o\n$482b2o8b2o4b2o3b2o10bo2bo15bobo3b2o3bo2bo$469b2o10bo2bo8b2o3b3o2bo5b\n2o4bobo7b2o6bobo3b3o3bo2b2o$469b2o11b2o14bo10b2o5bo8b2o6bo6bo3bo2b2o$\n544b4o$377bo$376bo167b4o$373b6o26b2o30b2o30b2o11b2o14bo10b2o5bo8b2o6bo\n6bo3bo2b2o$373b2o30b2o30b2o30b2o10bo2bo8b2o3b3o2bo5b2o4bobo7b2o6bobo3b\n3o3bo2b2o$482b2o8b2o4b2o3b2o10bo2bo15bobo3b2o3bo2bo$493b2o2b3o2bobo11b\n2o14b3obob2o6b2o$494b3o3bo31bo3bob2o$496bo4bo30bob2o$353bo144bo2bo33bo\n9b2o$352bo155b5o20b2o8bo4bo$352b3o152bo4bo36bo$512bo30bo5bo88b4o$507bo\n3bo21b6o5b6o87bo3bo$509bo22bo5bo102bo$538bo98bo2bo$512bobo17bo4bo$512b\n2o20b2o112b6o6b2o$513bo133bo5bo4bo4bo$641b2o10bo10bo$623b5o12b2o5bo4bo\n5bo5bo$622bo4bo14bo6b2o8b6o$563b5o59bo27bo$562bo4bo30b2o9b2o11bo3bo28b\n3o$488bobo76bo30b2o4bo3bo15bo21bo7bob2o2bo$305bo182b2o72bo3bo28b2o8b2o\n3bobo32b3o8b3o2bo$304bo184bo74bo29b3o8b2o2b2obo11b2o16b3o10b5o2bo$304b\n3o283b2o12bo8bo9bo2bo14bo3bo3bo5b3obob3o$577b2o10bo2b6o4bo5b2ob2o4b2o\n4bobo7b2o5bo2bobo4bo9b2ob2o$577b2o11b2o3bo3b2o7b2o8bo5bo8b2o5bo8bo9b2o\nb2o$611b3o3bo23b8o$$464bobo144b3o3bo23b8o94bo2bo$464b2o15b2o30b2o30b2o\n30b2o11b2o3bo3b2o7b2o8bo5bo8b2o5bo8bo9b2ob2o83bo$465bo15b2o30b2o30b2o\n30b2o10bo2b6o4bo5b2ob2o4b2o4bobo7b2o5bo2bobo4bo9b2ob2o78bo3bo$590b2o\n12bo8bo9bo2bo14bo3bo3bo5b3obob3o80b4o$594b3o8b2o2b2obo11b2o16b3o10b5o\n2bo92b2o$595b2o8b2o3bobo32b3o8b3o2bo91bo4bo$598b2o4bo3bo15bo21bo7bob2o\n2bo98bo$598b2o9b2o11bo3bo28b3o72bo22bo5bo$627bo27bo72bo3bo21b6o5b6o$\n257bo364bo4bo14bo6b2o8b6o5bo62bo30bo5bo$256bo366b5o12b2o5bo4bo5bo5bo3b\no3bo55bo4bo36bo$256b3o382b2o10bo10bo8bo55b5o20b2o8bo4bo$647bo5bo4bo4bo\n4bo4bo45bo2bo33bo9b2o$648b6o6b2o7b5o43bo4bo30bob2o$715b3o3bo31bo3bob2o\n$714b2o2b3o2bobo11b2o14b3obob2o6b2o$416bobo284b2o8b2o4b2o3b2o10bo2bo\n15bobo3b2o3bo2bo$416b2o200bo71b2o10bo2bo8b2o3b3o2bo5b2o4bobo7b2o6bobo\n3b3o3bo2b2o$417bo179bo18b2o72b2o11b2o14bo10b2o5bo8b2o6bo6bo3bo2b2o$\n597bo19b2o146b4o$$600b3o162b4o$597b2ob3o23b2o30b2o30b2o11b2o14bo10b2o\n5bo8b2o6bo6bo3bo2b2o$596b7o23b2o30b2o30b2o10bo2bo8b2o3b3o2bo5b2o4bobo\n7b2o6bobo3b3o3bo2b2o$596b2o2bo102b2o8b2o4b2o3b2o10bo2bo15bobo3b2o3bo2b\no$209bo385b5o114b2o2b3o2bobo11b2o14b3obob2o6b2o$208bo388b3o115b3o3bo\n31bo3bob2o$208b3o506bo4bo30bob2o$719bo2bo33bo9b2o$729b5o20b2o8bo4bo$\n728bo4bo36bo$733bo30bo5bo$368bobo357bo3bo21b6o5b6o$368b2o200bo159bo22b\no5bo$369bo198b2o189bo$569b2o162bobo17bo4bo$733b2o20b2o$734bo$$$$161bo$\n160bo$160b3o546bobo$709b2o53b4o$710bo52bo3bo$767bo$763bo2bo$320bobo$\n320b2o200bo251b6o6b2o$321bo198b2o251bo5bo4bo4bo$521b2o162bobo91bo10bo$\n685b2o62b5o19bo4bo5bo5bo$686bo61bo4bo17bo3b2o8b6o$753bo16bobo$30b2o\n716bo3bo16bo2bo$31b2o703b2o12bo18b4obo9b3o$30bo82bo620b2ob2o29b3ob2obo\n8b2o$112bo615b2o4b2o2bo15b2o14b2obo3bo10bo$112b3o546bobo56b2o5b2o4b5o\n4bo10bo2bo13b2obob3o10b2o$661b2o12b2o30b2o10bo2bo5b3obo8bob2o2b2o4bobo\n7b2o7bobobobobo8b2o$662bo12b2o30b2o11b2o7b4o8bobo3b2o5bo8b2o8b2obobobo\nb2o4b2o$23bo707bo10bo31b3obob4o$23b2o$22bobo247bobo456bo10bo31b3obob4o\n$3b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o11b2o17b2o30b2o30b2o30b2o\n30b2o30b2o21bo8b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o11b2o7b4o8bobo3b\n2o5bo8b2o8b2obobobob2o4b2o$3b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b\n2o12bo17b2o30b2o30b2o30b2o30b2o30b2o19b2o9b2o30b2o30b2o30b2o30b2o30b2o\n30b2o30b2o10bo2bo5b3obo8bob2o2b2o4bobo7b2o7bobobobobo8b2o$473b2o245b2o\n5b2o4b5o4bo10bo2bo13b2obob3o10b2o$3bo724b2o4b2o2bo15b2o14b2obo3bo10bo$\n2bobo729b2ob2o29b3ob2obo8b2o$2bobo10b2o17b3o699b2o12bo18b4obo9b3o$3bo\n12b2o16b3o9b2o18b2o680bo3bo16bo2bo$15bo17bo3bo9b2o16bo2bo684bo16bobo$\n32bo5bo7bo18b2ob2o678bo4bo17bo3b2o8b6o$2obob2o26bo3bo28bo682b5o19bo4bo\n5bo5bo$o5bo27b3o29bo193b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b\n2o30b2o31bobo163bo10bo$bo3bo60bo3bo28b2o30b2o30b2o30b2o30b2o30bo2bo28b\no2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo30b\n2o158bo5bo4bo4bo$2b3o3bo58bo2bo28bobo29bobo29bobo29bobo29bobo29bo2bo\n28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo28bo2bo\n31bo159b6o6b2o$8b2o29bo27b2ob2o28b2o30b2o30b2o30b2o30b2o30b2o30b2o30b\n2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o$7bobo29b2o27bobo679bo$38bob\no28bo678b2o$426bo187b2o133b2o$424b2o188bobo132bobo$71bo353b2o187bo135b\n2o$71bo677b2o$5bo64bo680bo$5bo$4bobo30bo64b2o30b2o30b2o30b2o30b2o30b2o\n30b2o30b2o30b2o30b2o$3b2ob2o28b3o62bobo29bobo29bobo29bobo29bobo29bo2bo\n28bo2bo28bo2bo28bo2bo28bo2bo385b6o6b2o$2bo5bo26b5o29bo31b2o30b2o30b2o\n30b2o30b2o30bo2bo28bo2bo28bo2bo28bo2bo28bo2bo31b2o351bo5bo4bo4bo$5bo\n28bobobobo27b3o191b2o30b2o30b2o30b2o30b2o32bobo356bo10bo$2b2o3b2o25b2o\n3b2o26b5o352bo328b5o16bo2bo4bo5bo5bo$66b2o3b2o679bo4bo15b3o3b2o8b6o$\n67b5o685bo14bo2b2o$4bo32bo29bo3bo680bo3bo17bo12bo$4bo31bobo29bobo659bo\n9b2o12bo32bobo$3bo32bobo30bo659b3o9b2o44bo$37bo624b2o64bo7b2o2b2o2b2o\n10b2o19b3o8b3obo$37b2o623bobo57b2o3b2o2b2obobo2b3o2b3o8bo2bo19bob2o8b\n4o$5b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o12bo17b2o30b2o30b2o30b\n2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o15bo14b2o30b2o10bo2bo3b7o2bo\n5bo2bo2b2o4bobo7b2o5b2o2bobo4bo7bob2o$5b2o30b2o30b2o30b2o30b2o30b2o30b\n2o30b2o30b2o11b2o17b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o30b\n2o30b2o30b2o30b2o11b2o5bo5bo7bob2o2b2o5bo8b2o6b2obobobo3bo5bo2bo$274bo\nbo467b2o28bobo2bo3bo7b2o$$744b2o28bobo2bo3bo7b2o$114bo370b2o30b2o30b2o\n30b2o30b2o30b2o30b2o30b2o11b2o5bo5bo7bob2o2b2o5bo8b2o6b2obobobo3bo5bo\n2bo$113b2o357b2o11b2o30b2o30b2o30b2o30b2o30b2o30b2o30b2o10bo2bo3b7o2bo\n5bo2bo2b2o4bobo7b2o5b2o2bobo4bo7bob2o$113bobo356bobo247b2o3b2o2b2obobo\n2b3o2b3o8bo2bo19bob2o8b4o$472bo255bo7b2o2b2o2b2o10b2o19b3o8b3obo$729b\n3o9b2o44bo$730bo9b2o12bo32bobo$752bo3bo17bo12bo$757bo14bo2b2o$752bo4bo\n15b3o3b2o8b6o$496b2o198b2o12b2o41b5o16bo2bo4bo5bo5bo$496bobo196bo2bo\n11bobo70bo10bo$323bo172bo199b2o12bo66bo5bo4bo4bo$322b2o369bo84b6o6b2o$\n322bobo367b3o$691b2obo72bo2bo$530b2o158b3o78bo$162bo363b4ob2o5b4o225bo\n3bo$161b2o357b2o4b6o5b6o191b2o32b4o$161bobo340b2o14bobo4b4o6b4ob2o190b\nobo$501b3ob2o13bo20b2o191bo$444b2o55b5o$441b3ob2o30bo10b2o12b3o28b3o$\n441b5o31b2o8bobo45bobobo$442b3o34bo2b3obo2b2o33b3o6bo4b2o$473b12o4bob\n2o10b2o18bo2bo7b2o2b2o$469b2o2bo2b6o6bo7bo5bo2bo14b3obob3o6b2o3b3o215b\n2o$456b2o10bo2bob3o3bo6b6o5bo4bobo7b2o5bob2ob5o10bo2bo215bobo$371bo84b\n2o11b2o7bo3bo7bo6bo5bo8b2o5bo5bob2o9bo3bo215bo$370b2o107bo10b4ob2o23b\n7o11bo2bo241b2o$370bobo406b4ob2o5b4o$479bo10b4ob2o23b7o11bo2bo237b6o5b\n6o$392b2o30b2o30b2o11b2o7bo3bo7bo6bo5bo8b2o5bo5bob2o9bo3bo214b2o21b4o\n6b4ob2o$210bo181b2o30b2o30b2o10bo2bob3o3bo6b6o5bo4bobo7b2o5bob2ob5o10b\no2bo211b3ob2o34b2o$209b2o258b2o2bo2b6o6bo7bo5bo2bo14b3obob3o6b2o3b3o\n154b2o55b5o21bo$209bobo261b12o4bob2o10b2o18bo2bo7b2o2b2o154b3ob2o55b3o\n23bo$395bo83bo2b3obo2b2o33b3o6bo4b2o154b5o43b2o2b2o31b4o$394b2o81b2o8b\nobo45bobobo155b3o41b2obob4o29b2o3bob2o$394bobo80bo10b2o12b3o28b3o202bo\n3b2o2bo3bo11b2o14bobobobo7b2o$501b5o222b2o8bo9bobo10bo2bo13bo3b3o2bo3b\no2b2o$501b3ob2o13bo20b2o172b2o10bo2bo7b3o2bo2bo2b2o4b2o4bobo7b2o6bobo\n3bo4b3o2bo$504b2o14bobo4b4o6b4ob2o171b2o11b2o14bo10b2o5bo8b2o7bo4b3o2b\no4bo$520b2o4b6o5b6o247b5o$526b4ob2o5b4o$419bo110b2o258b5o$418b2o295b2o\n11b2o14bo10b2o5bo8b2o7bo4b3o2bo4bo$418bobo96b2o196b2o10bo2bo7b3o2bo2bo\n2b2o4b2o4bobo7b2o6bobo3bo4b3o2bo$516b4o208b2o8bo9bobo10bo2bo13bo3b3o2b\no3bo2b2o$516b2ob2o217bo3b2o2bo3bo11b2o14bobobobo7b2o$258bo259b2o175b3o\n41b2obob4o29b2o3bob2o$257b2o435b5o43b2o2b2o31b4o$257bobo434b3ob2o55b3o\n23bo$443bo253b2o55b5o21bo$442b2o310b3ob2o34b2o$442bobo312b2o21b4o6b4ob\n2o$779b6o5b6o$779b4ob2o5b4o$783b2o$$770b2o$467bo301b4o$466b2o301b2ob2o\n$466bobo302b2o$$$306bo$305b2o$305bobo$491bo$490b2o$490bobo$$$$$$515bo$\n514b2o20b2o$514bobo17bo4bo$540bo$511bo22bo5bo$354bo154bo3bo21b6o5b6o$\n353b2o159bo30bo5bo$353bobo153bo4bo36bo$510b5o20b2o8bo4bo$500bo2bo33bo\n9b2o$498bo4bo30bob2o$496b3o3bo31bo3bob2o$495b2o2b3o2bobo11b2o14b3obob\n2o6b2o$484b2o8b2o4b2o3b2o10bo2bo15bobo3b2o3bo2bo$379bo27b2o30b2o30b2o\n10bo2bo8b2o3b3o2bo5b2o4bobo7b2o6bobo3b3o3bo2b2o$375b2o3bo26b2o30b2o30b\n2o11b2o14bo10b2o5bo8b2o6bo6bo3bo2b2o$376bob2o166b4o$377b3o$546b4o$471b\n2o11b2o14bo10b2o5bo8b2o6bo6bo3bo2b2o$471b2o10bo2bo8b2o3b3o2bo5b2o4bobo\n7b2o6bobo3b3o3bo2b2o$402bo81b2o8b2o4b2o3b2o10bo2bo15bobo3b2o3bo2bo$\n401b2o92b2o2b3o2bobo11b2o14b3obob2o6b2o$401bobo92b3o3bo31bo3bob2o$450b\n5o43bo4bo30bob2o$449bo4bo45bo2bo33bo9b2o$454bo55b5o20b2o8bo4bo$449bo3b\no55bo4bo36bo$451bo62bo30bo5bo$426bo82bo3bo21b6o5b6o$425b2o84bo22bo5bo$\n425bobo112bo$534bo4bo$536b2o$525b4o$524bo3bo$465b2o61bo$450bo12bo4bo\n55bo2bo$449b2o18bo$391bobo46bo8bobo11bo5bo$391bobo44bo3bo21b6o5b6o$\n380bo10bob2o48bo30bo5bo$378bo3bo10b2o43bo4bo36bo$383bo6bo2bo45b5o30bo\n4bo$378bo4bo7b2o83b2o$379b5o50b2o$434b2o32b3o5b2o$434b2o2bo13bo13bo3bo\n4bob2o$417b2o12b2ob2o3bo11bobo12bo7b2obobo$404b2o10bo2bo8b2o2bobo4bo4b\n2o4bo9b2o4bo7bob2ob2o$404b2o11b2o9b2o2b3o3bo5b2o5bo8b2o5bo2bo3bo3b2o$\n468bobo5b3o$$468bobo5b3o$404b2o11b2o9b2o2b3o3bo5b2o5bo8b2o5bo2bo3bo3b\n2o$404b2o10bo2bo8b2o2bobo4bo4b2o4bo9b2o4bo7bob2ob2o$417b2o12b2ob2o3bo\n11bobo12bo7b2obobo$434b2o2bo13bo13bo3bo4bob2o$434b2o32b3o5b2o$379b5o\n50b2o$378bo4bo7b2o83b2o$383bo6bo2bo45b5o30bo4bo$378bo3bo10b2o43bo4bo\n36bo$380bo10bob2o48bo30bo5bo$391bobo44bo3bo21b6o5b6o$391bobo46bo8bobo\n11bo5bo$449bobo17bo$451bo11bo4bo$465b2o$454b4o$453bo3bo$457bo$453bo2bo\n!"}},function(o,b,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0});function t(o,b,e,t){return o*((t+b)%b)+(e+o)%o}b.Game=class{constructor(o,b){if(this.width=o[0],this.height=o[1],this.field=new Uint8Array(this.width*this.height),this.temp=new Uint8Array(this.field.length),0!==b)for(let o=0;o<this.field.length;o++){const e=Math.random()/(1-b)>1;this.field[o]=e?1:0}}step(){!function(o,b,e,n){for(let b=0;b<o.length;b++)o[b]=0;for(let i=0;i<e;i++)for(let r=0;r<n;r++)0!==b[e*r+i]&&(o[t(e,n,i-1,r-1)]++,o[t(e,n,i-1,r)]++,o[t(e,n,i-1,r+1)]++,o[t(e,n,i,r-1)]++,o[t(e,n,i,r+1)]++,o[t(e,n,i+1,r-1)]++,o[t(e,n,i+1,r)]++,o[t(e,n,i+1,r+1)]++)}(this.temp,this.field,this.width,this.height);for(let o=0;o<this.field.length;o++){const b=0!==this.field[o],e=this.temp[o];b?2!==e&&3!==e&&(this.field[o]=0):3===e&&(this.field[o]=1)}}addFigure(o,b,e){const{width:t,height:n,data:i}=e;for(let e=0;e<t;e++)for(let r=0;r<n;r++)this.field[(b+r)*this.width+o+e]=i[r*t+e]}}},function(o,b,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.Render=class{constructor(o,b){o.width=b[0],o.height=b[1],this.width=b[0],this.ctx=o.getContext("2d"),this.imageData=this.ctx.createImageData(b[0],b[1])}draw(o,b,e){const{data:t}=this.imageData,n=this.width;t[4*(b*n+o)]=e[0],t[4*(b*n+o)+1]=e[1],t[4*(b*n+o)+2]=e[2],t[4*(b*n+o)+3]=e[3]}drawByIndex(o,b){const{data:e}=this.imageData;e[4*o]=b[0],e[4*o+1]=b[1],e[4*o+2]=b[2],e[4*o+3]=b[3]}commit(){this.ctx.putImageData(this.imageData,0,0),this.clear()}clear(){const{data:o}=this.imageData;for(let b=0;b<o.length;b++)o[b]=0}}},function(o,b,e){"use strict";function t(o,b){var e=o.__state.conversionName.toString(),t=Math.round(o.r),n=Math.round(o.g),i=Math.round(o.b),r=o.a,s=Math.round(o.h),a=o.s.toFixed(1),l=o.v.toFixed(1);if(b||"THREE_CHAR_HEX"===e||"SIX_CHAR_HEX"===e){for(var d=o.hex.toString(16);d.length<6;)d="0"+d;return"#"+d}return"CSS_RGB"===e?"rgb("+t+","+n+","+i+")":"CSS_RGBA"===e?"rgba("+t+","+n+","+i+","+r+")":"HEX"===e?"0x"+o.hex.toString(16):"RGB_ARRAY"===e?"["+t+","+n+","+i+"]":"RGBA_ARRAY"===e?"["+t+","+n+","+i+","+r+"]":"RGB_OBJ"===e?"{r:"+t+",g:"+n+",b:"+i+"}":"RGBA_OBJ"===e?"{r:"+t+",g:"+n+",b:"+i+",a:"+r+"}":"HSV_OBJ"===e?"{h:"+s+",s:"+a+",v:"+l+"}":"HSVA_OBJ"===e?"{h:"+s+",s:"+a+",v:"+l+",a:"+r+"}":"unknown format"}e.r(b),e.d(b,"color",function(){return ao}),e.d(b,"controllers",function(){return lo}),e.d(b,"dom",function(){return co}),e.d(b,"gui",function(){return uo}),e.d(b,"GUI",function(){return ho});var n=Array.prototype.forEach,i=Array.prototype.slice,r={BREAK:{},extend:function(o){return this.each(i.call(arguments,1),function(b){(this.isObject(b)?Object.keys(b):[]).forEach(function(e){this.isUndefined(b[e])||(o[e]=b[e])}.bind(this))},this),o},defaults:function(o){return this.each(i.call(arguments,1),function(b){(this.isObject(b)?Object.keys(b):[]).forEach(function(e){this.isUndefined(o[e])&&(o[e]=b[e])}.bind(this))},this),o},compose:function(){var o=i.call(arguments);return function(){for(var b=i.call(arguments),e=o.length-1;e>=0;e--)b=[o[e].apply(this,b)];return b[0]}},each:function(o,b,e){if(o)if(n&&o.forEach&&o.forEach===n)o.forEach(b,e);else if(o.length===o.length+0){var t,i=void 0;for(i=0,t=o.length;i<t;i++)if(i in o&&b.call(e,o[i],i)===this.BREAK)return}else for(var r in o)if(b.call(e,o[r],r)===this.BREAK)return},defer:function(o){setTimeout(o,0)},debounce:function(o,b,e){var t=void 0;return function(){var n=this,i=arguments;var r=e||!t;clearTimeout(t),t=setTimeout(function(){t=null,e||o.apply(n,i)},b),r&&o.apply(n,i)}},toArray:function(o){return o.toArray?o.toArray():i.call(o)},isUndefined:function(o){return void 0===o},isNull:function(o){return null===o},isNaN:function(o){function b(b){return o.apply(this,arguments)}return b.toString=function(){return o.toString()},b}(function(o){return isNaN(o)}),isArray:Array.isArray||function(o){return o.constructor===Array},isObject:function(o){return o===Object(o)},isNumber:function(o){return o===o+0},isString:function(o){return o===o+""},isBoolean:function(o){return!1===o||!0===o},isFunction:function(o){return"[object Function]"===Object.prototype.toString.call(o)}},s=[{litmus:r.isString,conversions:{THREE_CHAR_HEX:{read:function(o){var b=o.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==b&&{space:"HEX",hex:parseInt("0x"+b[1].toString()+b[1].toString()+b[2].toString()+b[2].toString()+b[3].toString()+b[3].toString(),0)}},write:t},SIX_CHAR_HEX:{read:function(o){var b=o.match(/^#([A-F0-9]{6})$/i);return null!==b&&{space:"HEX",hex:parseInt("0x"+b[1].toString(),0)}},write:t},CSS_RGB:{read:function(o){var b=o.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==b&&{space:"RGB",r:parseFloat(b[1]),g:parseFloat(b[2]),b:parseFloat(b[3])}},write:t},CSS_RGBA:{read:function(o){var b=o.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==b&&{space:"RGB",r:parseFloat(b[1]),g:parseFloat(b[2]),b:parseFloat(b[3]),a:parseFloat(b[4])}},write:t}}},{litmus:r.isNumber,conversions:{HEX:{read:function(o){return{space:"HEX",hex:o,conversionName:"HEX"}},write:function(o){return o.hex}}}},{litmus:r.isArray,conversions:{RGB_ARRAY:{read:function(o){return 3===o.length&&{space:"RGB",r:o[0],g:o[1],b:o[2]}},write:function(o){return[o.r,o.g,o.b]}},RGBA_ARRAY:{read:function(o){return 4===o.length&&{space:"RGB",r:o[0],g:o[1],b:o[2],a:o[3]}},write:function(o){return[o.r,o.g,o.b,o.a]}}}},{litmus:r.isObject,conversions:{RGBA_OBJ:{read:function(o){return!!(r.isNumber(o.r)&&r.isNumber(o.g)&&r.isNumber(o.b)&&r.isNumber(o.a))&&{space:"RGB",r:o.r,g:o.g,b:o.b,a:o.a}},write:function(o){return{r:o.r,g:o.g,b:o.b,a:o.a}}},RGB_OBJ:{read:function(o){return!!(r.isNumber(o.r)&&r.isNumber(o.g)&&r.isNumber(o.b))&&{space:"RGB",r:o.r,g:o.g,b:o.b}},write:function(o){return{r:o.r,g:o.g,b:o.b}}},HSVA_OBJ:{read:function(o){return!!(r.isNumber(o.h)&&r.isNumber(o.s)&&r.isNumber(o.v)&&r.isNumber(o.a))&&{space:"HSV",h:o.h,s:o.s,v:o.v,a:o.a}},write:function(o){return{h:o.h,s:o.s,v:o.v,a:o.a}}},HSV_OBJ:{read:function(o){return!!(r.isNumber(o.h)&&r.isNumber(o.s)&&r.isNumber(o.v))&&{space:"HSV",h:o.h,s:o.s,v:o.v}},write:function(o){return{h:o.h,s:o.s,v:o.v}}}}}],a=void 0,l=void 0,d=function(){l=!1;var o=arguments.length>1?r.toArray(arguments):arguments[0];return r.each(s,function(b){if(b.litmus(o))return r.each(b.conversions,function(b,e){if(a=b.read(o),!1===l&&!1!==a)return l=a,a.conversionName=e,a.conversion=b,r.BREAK}),r.BREAK}),l},c=void 0,u={hsv_to_rgb:function(o,b,e){var t=Math.floor(o/60)%6,n=o/60-Math.floor(o/60),i=e*(1-b),r=e*(1-n*b),s=e*(1-(1-n)*b),a=[[e,s,i],[r,e,i],[i,e,s],[i,r,e],[s,i,e],[e,i,r]][t];return{r:255*a[0],g:255*a[1],b:255*a[2]}},rgb_to_hsv:function(o,b,e){var t=Math.min(o,b,e),n=Math.max(o,b,e),i=n-t,r=void 0;return 0===n?{h:NaN,s:0,v:0}:(r=o===n?(b-e)/i:b===n?2+(e-o)/i:4+(o-b)/i,(r/=6)<0&&(r+=1),{h:360*r,s:i/n,v:n/255})},rgb_to_hex:function(o,b,e){var t=this.hex_with_component(0,2,o);return t=this.hex_with_component(t,1,b),t=this.hex_with_component(t,0,e)},component_from_hex:function(o,b){return o>>8*b&255},hex_with_component:function(o,b,e){return e<<(c=8*b)|o&~(255<<c)}},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_=function(o,b){if(!(o instanceof b))throw new TypeError("Cannot call a class as a function")},f=function(){function o(o,b){for(var e=0;e<b.length;e++){var t=b[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}return function(b,e,t){return e&&o(b.prototype,e),t&&o(b,t),b}}(),p=function o(b,e,t){null===b&&(b=Function.prototype);var n=Object.getOwnPropertyDescriptor(b,e);if(void 0===n){var i=Object.getPrototypeOf(b);return null===i?void 0:o(i,e,t)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(t):void 0},m=function(o,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);o.prototype=Object.create(b&&b.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(o,b):o.__proto__=b)},g=function(o,b){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?o:b},$=function(){function o(){if(_(this,o),this.__state=d.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return f(o,[{key:"toString",value:function(){return t(this)}},{key:"toHexString",value:function(){return t(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),o}();function v(o,b,e){Object.defineProperty(o,b,{get:function(){return"RGB"===this.__state.space?this.__state[b]:($.recalculateRGB(this,b,e),this.__state[b])},set:function(o){"RGB"!==this.__state.space&&($.recalculateRGB(this,b,e),this.__state.space="RGB"),this.__state[b]=o}})}function y(o,b){Object.defineProperty(o,b,{get:function(){return"HSV"===this.__state.space?this.__state[b]:($.recalculateHSV(this),this.__state[b])},set:function(o){"HSV"!==this.__state.space&&($.recalculateHSV(this),this.__state.space="HSV"),this.__state[b]=o}})}$.recalculateRGB=function(o,b,e){if("HEX"===o.__state.space)o.__state[b]=u.component_from_hex(o.__state.hex,e);else{if("HSV"!==o.__state.space)throw new Error("Corrupted color state");r.extend(o.__state,u.hsv_to_rgb(o.__state.h,o.__state.s,o.__state.v))}},$.recalculateHSV=function(o){var b=u.rgb_to_hsv(o.r,o.g,o.b);r.extend(o.__state,{s:b.s,v:b.v}),r.isNaN(b.h)?r.isUndefined(o.__state.h)&&(o.__state.h=0):o.__state.h=b.h},$.COMPONENTS=["r","g","b","h","s","v","hex","a"],v($.prototype,"r",2),v($.prototype,"g",1),v($.prototype,"b",0),y($.prototype,"h"),y($.prototype,"s"),y($.prototype,"v"),Object.defineProperty($.prototype,"a",{get:function(){return this.__state.a},set:function(o){this.__state.a=o}}),Object.defineProperty($.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=u.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(o){this.__state.space="HEX",this.__state.hex=o}});var w=function(){function o(b,e){_(this,o),this.initialValue=b[e],this.domElement=document.createElement("div"),this.object=b,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}return f(o,[{key:"onChange",value:function(o){return this.__onChange=o,this}},{key:"onFinishChange",value:function(o){return this.__onFinishChange=o,this}},{key:"setValue",value:function(o){return this.object[this.property]=o,this.__onChange&&this.__onChange.call(this,o),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),o}(),x={};r.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(o,b){r.each(o,function(o){x[o]=b})});var E=/(\d+(\.\d+)?)px/;function C(o){if("0"===o||r.isUndefined(o))return 0;var b=o.match(E);return r.isNull(b)?0:parseFloat(b[1])}var A={makeSelectable:function(o,b){void 0!==o&&void 0!==o.style&&(o.onselectstart=b?function(){return!1}:function(){},o.style.MozUserSelect=b?"auto":"none",o.style.KhtmlUserSelect=b?"auto":"none",o.unselectable=b?"on":"off")},makeFullscreen:function(o,b,e){var t=e,n=b;r.isUndefined(n)&&(n=!0),r.isUndefined(t)&&(t=!0),o.style.position="absolute",n&&(o.style.left=0,o.style.right=0),t&&(o.style.top=0,o.style.bottom=0)},fakeEvent:function(o,b,e,t){var n=e||{},i=x[b];if(!i)throw new Error("Event type "+b+" not supported.");var s=document.createEvent(i);switch(i){case"MouseEvents":var a=n.x||n.clientX||0,l=n.y||n.clientY||0;s.initMouseEvent(b,n.bubbles||!1,n.cancelable||!0,window,n.clickCount||1,0,0,a,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var d=s.initKeyboardEvent||s.initKeyEvent;r.defaults(n,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),d(b,n.bubbles||!1,n.cancelable,window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode);break;default:s.initEvent(b,n.bubbles||!1,n.cancelable||!0)}r.defaults(s,t),o.dispatchEvent(s)},bind:function(o,b,e,t){var n=t||!1;return o.addEventListener?o.addEventListener(b,e,n):o.attachEvent&&o.attachEvent("on"+b,e),A},unbind:function(o,b,e,t){var n=t||!1;return o.removeEventListener?o.removeEventListener(b,e,n):o.detachEvent&&o.detachEvent("on"+b,e),A},addClass:function(o,b){if(void 0===o.className)o.className=b;else if(o.className!==b){var e=o.className.split(/ +/);-1===e.indexOf(b)&&(e.push(b),o.className=e.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return A},removeClass:function(o,b){if(b)if(o.className===b)o.removeAttribute("class");else{var e=o.className.split(/ +/),t=e.indexOf(b);-1!==t&&(e.splice(t,1),o.className=e.join(" "))}else o.className=void 0;return A},hasClass:function(o,b){return new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(o.className)||!1},getWidth:function(o){var b=getComputedStyle(o);return C(b["border-left-width"])+C(b["border-right-width"])+C(b["padding-left"])+C(b["padding-right"])+C(b.width)},getHeight:function(o){var b=getComputedStyle(o);return C(b["border-top-width"])+C(b["border-bottom-width"])+C(b["padding-top"])+C(b["padding-bottom"])+C(b.height)},getOffset:function(o){var b=o,e={left:0,top:0};if(b.offsetParent)do{e.left+=b.offsetLeft,e.top+=b.offsetTop,b=b.offsetParent}while(b);return e},isActive:function(o){return o===document.activeElement&&(o.type||o.href)}},k=function(o){function b(o,e){_(this,b);var t=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e)),n=t;return t.__prev=t.getValue(),t.__checkbox=document.createElement("input"),t.__checkbox.setAttribute("type","checkbox"),A.bind(t.__checkbox,"change",function(){n.setValue(!n.__prev)},!1),t.domElement.appendChild(t.__checkbox),t.updateDisplay(),t}return m(b,w),f(b,[{key:"setValue",value:function(o){var e=p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}(),S=function(o){function b(o,e,t){_(this,b);var n=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e)),i=t,s=n;if(n.__select=document.createElement("select"),r.isArray(i)){var a={};r.each(i,function(o){a[o]=o}),i=a}return r.each(i,function(o,b){var e=document.createElement("option");e.innerHTML=b,e.setAttribute("value",o),s.__select.appendChild(e)}),n.updateDisplay(),A.bind(n.__select,"change",function(){var o=this.options[this.selectedIndex].value;s.setValue(o)}),n.domElement.appendChild(n.__select),n}return m(b,w),f(b,[{key:"setValue",value:function(o){var e=p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e}},{key:"updateDisplay",value:function(){return A.isActive(this.__select)?this:(this.__select.value=this.getValue(),p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this))}}]),b}(),O=function(o){function b(o,e){_(this,b);var t=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e)),n=t;function i(){n.setValue(n.__input.value)}return t.__input=document.createElement("input"),t.__input.setAttribute("type","text"),A.bind(t.__input,"keyup",i),A.bind(t.__input,"change",i),A.bind(t.__input,"blur",function(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())}),A.bind(t.__input,"keydown",function(o){13===o.keyCode&&this.blur()}),t.updateDisplay(),t.domElement.appendChild(t.__input),t}return m(b,w),f(b,[{key:"updateDisplay",value:function(){return A.isActive(this.__input)||(this.__input.value=this.getValue()),p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}();function T(o){var b=o.toString();return b.indexOf(".")>-1?b.length-b.indexOf(".")-1:0}var R=function(o){function b(o,e,t){_(this,b);var n=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e)),i=t||{};return n.__min=i.min,n.__max=i.max,n.__step=i.step,r.isUndefined(n.__step)?0===n.initialValue?n.__impliedStep=1:n.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(n.initialValue))/Math.LN10))/10:n.__impliedStep=n.__step,n.__precision=T(n.__impliedStep),n}return m(b,w),f(b,[{key:"setValue",value:function(o){var e=o;return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setValue",this).call(this,e)}},{key:"min",value:function(o){return this.__min=o,this}},{key:"max",value:function(o){return this.__max=o,this}},{key:"step",value:function(o){return this.__step=o,this.__impliedStep=o,this.__precision=T(o),this}}]),b}();var L=function(o){function b(o,e,t){_(this,b);var n=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e,t));n.__truncationSuspended=!1;var i=n,s=void 0;function a(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}function l(o){var b=s-o.clientY;i.setValue(i.getValue()+b*i.__impliedStep),s=o.clientY}function d(){A.unbind(window,"mousemove",l),A.unbind(window,"mouseup",d),a()}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),A.bind(n.__input,"change",function(){var o=parseFloat(i.__input.value);r.isNaN(o)||i.setValue(o)}),A.bind(n.__input,"blur",function(){a()}),A.bind(n.__input,"mousedown",function(o){A.bind(window,"mousemove",l),A.bind(window,"mouseup",d),s=o.clientY}),A.bind(n.__input,"keydown",function(o){13===o.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1,a())}),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return m(b,R),f(b,[{key:"updateDisplay",value:function(){var o,e,t;return this.__input.value=this.__truncationSuspended?this.getValue():(o=this.getValue(),e=this.__precision,t=Math.pow(10,e),Math.round(o*t)/t),p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}();function B(o,b,e,t,n){return t+(o-b)/(e-b)*(n-t)}var N=function(o){function b(o,e,t,n,i){_(this,b);var r=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e,{min:t,max:n,step:i})),s=r;function a(o){o.preventDefault();var b=s.__background.getBoundingClientRect();return s.setValue(B(o.clientX,b.left,b.right,s.__min,s.__max)),!1}function l(){A.unbind(window,"mousemove",a),A.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function d(o){var b=o.touches[0].clientX,e=s.__background.getBoundingClientRect();s.setValue(B(b,e.left,e.right,s.__min,s.__max))}function c(){A.unbind(window,"touchmove",d),A.unbind(window,"touchend",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return r.__background=document.createElement("div"),r.__foreground=document.createElement("div"),A.bind(r.__background,"mousedown",function(o){document.activeElement.blur(),A.bind(window,"mousemove",a),A.bind(window,"mouseup",l),a(o)}),A.bind(r.__background,"touchstart",function(o){if(1!==o.touches.length)return;A.bind(window,"touchmove",d),A.bind(window,"touchend",c),d(o)}),A.addClass(r.__background,"slider"),A.addClass(r.__foreground,"slider-fg"),r.updateDisplay(),r.__background.appendChild(r.__foreground),r.domElement.appendChild(r.__background),r}return m(b,R),f(b,[{key:"updateDisplay",value:function(){var o=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*o+"%",p(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}(),H=function(o){function b(o,e,t){_(this,b);var n=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e)),i=n;return n.__button=document.createElement("div"),n.__button.innerHTML=void 0===t?"Fire":t,A.bind(n.__button,"click",function(o){return o.preventDefault(),i.fire(),!1}),A.addClass(n.__button,"button"),n.domElement.appendChild(n.__button),n}return m(b,w),f(b,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),b}(),P=function(o){function b(o,e){_(this,b);var t=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,o,e));t.__color=new $(t.getValue()),t.__temp=new $(0);var n=t;t.domElement=document.createElement("div"),A.makeSelectable(t.domElement,!1),t.__selector=document.createElement("div"),t.__selector.className="selector",t.__saturation_field=document.createElement("div"),t.__saturation_field.className="saturation-field",t.__field_knob=document.createElement("div"),t.__field_knob.className="field-knob",t.__field_knob_border="2px solid ",t.__hue_knob=document.createElement("div"),t.__hue_knob.className="hue-knob",t.__hue_field=document.createElement("div"),t.__hue_field.className="hue-field",t.__input=document.createElement("input"),t.__input.type="text",t.__input_textShadow="0 1px 1px ",A.bind(t.__input,"keydown",function(o){13===o.keyCode&&h.call(this)}),A.bind(t.__input,"blur",h),A.bind(t.__selector,"mousedown",function(){A.addClass(this,"drag").bind(window,"mouseup",function(){A.removeClass(n.__selector,"drag")})}),A.bind(t.__selector,"touchstart",function(){A.addClass(this,"drag").bind(window,"touchend",function(){A.removeClass(n.__selector,"drag")})});var i,s=document.createElement("div");function a(o){p(o),A.bind(window,"mousemove",p),A.bind(window,"touchmove",p),A.bind(window,"mouseup",c),A.bind(window,"touchend",c)}function l(o){m(o),A.bind(window,"mousemove",m),A.bind(window,"touchmove",m),A.bind(window,"mouseup",u),A.bind(window,"touchend",u)}function c(){A.unbind(window,"mousemove",p),A.unbind(window,"touchmove",p),A.unbind(window,"mouseup",c),A.unbind(window,"touchend",c),f()}function u(){A.unbind(window,"mousemove",m),A.unbind(window,"touchmove",m),A.unbind(window,"mouseup",u),A.unbind(window,"touchend",u),f()}function h(){var o=d(this.value);!1!==o?(n.__color.__state=o,n.setValue(n.__color.toOriginal())):this.value=n.__color.toString()}function f(){n.__onFinishChange&&n.__onFinishChange.call(n,n.__color.toOriginal())}function p(o){-1===o.type.indexOf("touch")&&o.preventDefault();var b=n.__saturation_field.getBoundingClientRect(),e=o.touches&&o.touches[0]||o,t=e.clientX,i=e.clientY,r=(t-b.left)/(b.right-b.left),s=1-(i-b.top)/(b.bottom-b.top);return s>1?s=1:s<0&&(s=0),r>1?r=1:r<0&&(r=0),n.__color.v=s,n.__color.s=r,n.setValue(n.__color.toOriginal()),!1}function m(o){-1===o.type.indexOf("touch")&&o.preventDefault();var b=n.__hue_field.getBoundingClientRect(),e=1-((o.touches&&o.touches[0]||o).clientY-b.top)/(b.bottom-b.top);return e>1?e=1:e<0&&(e=0),n.__color.h=360*e,n.setValue(n.__color.toOriginal()),!1}return r.extend(t.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(t.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:t.__field_knob_border+(t.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(t.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(t.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(s.style,{width:"100%",height:"100%",background:"none"}),F(s,"top","rgba(0,0,0,0)","#000"),r.extend(t.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(i=t.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.extend(t.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:t.__input_textShadow+"rgba(0,0,0,0.7)"}),A.bind(t.__saturation_field,"mousedown",a),A.bind(t.__saturation_field,"touchstart",a),A.bind(t.__field_knob,"mousedown",a),A.bind(t.__field_knob,"touchstart",a),A.bind(t.__hue_field,"mousedown",l),A.bind(t.__hue_field,"touchstart",l),t.__saturation_field.appendChild(s),t.__selector.appendChild(t.__field_knob),t.__selector.appendChild(t.__saturation_field),t.__selector.appendChild(t.__hue_field),t.__hue_field.appendChild(t.__hue_knob),t.domElement.appendChild(t.__input),t.domElement.appendChild(t.__selector),t.updateDisplay(),t}return m(b,w),f(b,[{key:"updateDisplay",value:function(){var o=d(this.getValue());if(!1!==o){var b=!1;r.each($.COMPONENTS,function(e){if(!r.isUndefined(o[e])&&!r.isUndefined(this.__color.__state[e])&&o[e]!==this.__color.__state[e])return b=!0,{}},this),b&&r.extend(this.__color.__state,o)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var e=this.__color.v<.5||this.__color.s>.5?255:0,t=255-e;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+e+","+e+","+e+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,F(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),r.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+e+","+e+","+e+")",textShadow:this.__input_textShadow+"rgba("+t+","+t+","+t+",.7)"})}}]),b}(),D=["-moz-","-o-","-webkit-","-ms-",""];function F(o,b,e,t){o.style.background="",r.each(D,function(n){o.style.cssText+="background: "+n+"linear-gradient("+b+", "+e+" 0%, "+t+" 100%); "})}var j=function(o,b){var e=b||document,t=document.createElement("style");t.type="text/css",t.innerHTML=o;var n=e.getElementsByTagName("head")[0];try{n.appendChild(t)}catch(o){}},M=function(o,b){var e=o[b];return r.isArray(arguments[2])||r.isObject(arguments[2])?new S(o,b,arguments[2]):r.isNumber(e)?r.isNumber(arguments[2])&&r.isNumber(arguments[3])?r.isNumber(arguments[4])?new N(o,b,arguments[2],arguments[3],arguments[4]):new N(o,b,arguments[2],arguments[3]):r.isNumber(arguments[4])?new L(o,b,{min:arguments[2],max:arguments[3],step:arguments[4]}):new L(o,b,{min:arguments[2],max:arguments[3]}):r.isString(e)?new O(o,b):r.isFunction(e)?new H(o,b,""):r.isBoolean(e)?new k(o,b):null};var V=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){setTimeout(o,1e3/60)},I=function(){function o(){_(this,o),this.backgroundElement=document.createElement("div"),r.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),A.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),r.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var b=this;A.bind(this.backgroundElement,"click",function(){b.hide()})}return f(o,[{key:"show",value:function(){var o=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),r.defer(function(){o.backgroundElement.style.opacity=1,o.domElement.style.opacity=1,o.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var o=this,b=function b(){o.domElement.style.display="none",o.backgroundElement.style.display="none",A.unbind(o.domElement,"webkitTransitionEnd",b),A.unbind(o.domElement,"transitionend",b),A.unbind(o.domElement,"oTransitionEnd",b)};A.bind(this.domElement,"webkitTransitionEnd",b),A.bind(this.domElement,"transitionend",b),A.bind(this.domElement,"oTransitionEnd",b),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-A.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-A.getHeight(this.domElement)/2+"px"}}]),o}();j(function(o){if(o&&"undefined"!=typeof window){var b=document.createElement("style");return b.setAttribute("type","text/css"),b.innerHTML=o,document.head.appendChild(b),o}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var z="Default",G=function(){try{return!!window.localStorage}catch(o){return!1}}(),U=void 0,X=!0,K=void 0,Y=!1,W=[],J=function o(b){var e=this,t=b||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),A.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=r.defaults(t,{closeOnTop:!1,autoPlace:!0,width:o.DEFAULT_WIDTH}),t=r.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),r.isUndefined(t.load)?t.load={preset:z}:t.preset&&(t.load.preset=t.preset),r.isUndefined(t.parent)&&t.hideable&&W.push(this),t.resizable=r.isUndefined(t.parent)&&t.resizable,t.autoPlace&&r.isUndefined(t.scrollable)&&(t.scrollable=!0);var n,i=G&&"true"===localStorage.getItem(eo(this,"isLocal")),s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},closeOnTop:{get:function(){return t.closeOnTop}},preset:{get:function(){return e.parent?e.getRoot().preset:t.load.preset},set:function(o){e.parent?e.getRoot().preset=o:t.load.preset=o,function(o){for(var b=0;b<o.__preset_select.length;b++)o.__preset_select[b].value===o.preset&&(o.__preset_select.selectedIndex=b)}(this),e.revert()}},width:{get:function(){return t.width},set:function(o){t.width=o,ro(e,o)}},name:{get:function(){return t.name},set:function(o){t.name=o,titleRowName&&(titleRowName.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(b){t.closed=b,t.closed?A.addClass(e.__ul,o.CLASS_CLOSED):A.removeClass(e.__ul,o.CLASS_CLOSED),this.onResize(),e.__closeButton&&(e.__closeButton.innerHTML=b?o.TEXT_OPEN:o.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return i},set:function(o){G&&(i=o,o?A.bind(window,"unload",s):A.unbind(window,"unload",s),localStorage.setItem(eo(e,"isLocal"),o))}}}),r.isUndefined(t.parent)){if(t.closed=!1,A.addClass(this.domElement,o.CLASS_MAIN),A.makeSelectable(this.domElement,!1),G&&i){e.useLocalStorage=!0;var a=localStorage.getItem(eo(this,"gui"));a&&(t.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=o.TEXT_CLOSED,A.addClass(this.__closeButton,o.CLASS_CLOSE_BUTTON),t.closeOnTop?(A.addClass(this.__closeButton,o.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(A.addClass(this.__closeButton,o.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),A.bind(this.__closeButton,"click",function(){e.closed=!e.closed})}else{void 0===t.closed&&(t.closed=!0);var l=document.createTextNode(t.name);A.addClass(l,"controller-name");var d=Q(e,l);A.addClass(this.__ul,o.CLASS_CLOSED),A.addClass(d,"title"),A.bind(d,"click",function(o){return o.preventDefault(),e.closed=!e.closed,!1}),t.closed||(this.closed=!1)}t.autoPlace&&(r.isUndefined(t.parent)&&(X&&(K=document.createElement("div"),A.addClass(K,"dg"),A.addClass(K,o.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(K),X=!1),K.appendChild(this.domElement),A.addClass(this.domElement,o.CLASS_AUTO_PLACE)),this.parent||ro(e,t.width)),this.__resizeHandler=function(){e.onResizeDebounced()},A.bind(window,"resize",this.__resizeHandler),A.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),A.bind(this.__ul,"transitionend",this.__resizeHandler),A.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),t.resizable&&io(this),s=function(){G&&"true"===localStorage.getItem(eo(e,"isLocal"))&&localStorage.setItem(eo(e,"gui"),JSON.stringify(e.getSaveObject()))},this.saveToLocalStorageIfPossible=s,t.parent||((n=e.getRoot()).width+=1,r.defer(function(){n.width-=1}))};function Q(o,b,e){var t=document.createElement("li");return b&&t.appendChild(b),e?o.__ul.insertBefore(t,e):o.__ul.appendChild(t),o.onResize(),t}function q(o){A.unbind(window,"resize",o.__resizeHandler),o.saveToLocalStorageIfPossible&&A.unbind(window,"unload",o.saveToLocalStorageIfPossible)}function Z(o,b){var e=o.__preset_select[o.__preset_select.selectedIndex];e.innerHTML=b?e.value+"*":e.value}function oo(o,b){var e=o.getRoot(),t=e.__rememberedObjects.indexOf(b.object);if(-1!==t){var n=e.__rememberedObjectIndecesToControllers[t];if(void 0===n&&(n={},e.__rememberedObjectIndecesToControllers[t]=n),n[b.property]=b,e.load&&e.load.remembered){var i=e.load.remembered,r=void 0;if(i[o.preset])r=i[o.preset];else{if(!i[z])return;r=i[z]}if(r[t]&&void 0!==r[t][b.property]){var s=r[t][b.property];b.initialValue=s,b.setValue(s)}}}}function bo(o,b,e,t){if(void 0===b[e])throw new Error('Object "'+b+'" has no property "'+e+'"');var n=void 0;if(t.color)n=new P(b,e);else{var i=[b,e].concat(t.factoryArgs);n=M.apply(o,i)}t.before instanceof w&&(t.before=t.before.__li),oo(o,n),A.addClass(n.domElement,"c");var s=document.createElement("span");A.addClass(s,"property-name"),s.innerHTML=n.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(n.domElement);var l=Q(o,a,t.before);return A.addClass(l,J.CLASS_CONTROLLER_ROW),n instanceof P?A.addClass(l,"color"):A.addClass(l,h(n.getValue())),function(o,b,e){if(e.__li=b,e.__gui=o,r.extend(e,{options:function(b){if(arguments.length>1){var t=e.__li.nextElementSibling;return e.remove(),bo(o,e.object,e.property,{before:t,factoryArgs:[r.toArray(arguments)]})}if(r.isArray(b)||r.isObject(b)){var n=e.__li.nextElementSibling;return e.remove(),bo(o,e.object,e.property,{before:n,factoryArgs:[b]})}},name:function(o){return e.__li.firstElementChild.firstElementChild.innerHTML=o,e},listen:function(){return e.__gui.listen(e),e},remove:function(){return e.__gui.remove(e),e}}),e instanceof N){var t=new L(e.object,e.property,{min:e.__min,max:e.__max,step:e.__step});r.each(["updateDisplay","onChange","onFinishChange","step"],function(o){var b=e[o],n=t[o];e[o]=t[o]=function(){var o=Array.prototype.slice.call(arguments);return n.apply(t,o),b.apply(e,o)}}),A.addClass(b,"has-slider"),e.domElement.insertBefore(t.domElement,e.domElement.firstElementChild)}else if(e instanceof L){var n=function(b){if(r.isNumber(e.__min)&&r.isNumber(e.__max)){var t=e.__li.firstElementChild.firstElementChild.innerHTML,n=e.__gui.__listening.indexOf(e)>-1;e.remove();var i=bo(o,e.object,e.property,{before:e.__li.nextElementSibling,factoryArgs:[e.__min,e.__max,e.__step]});return i.name(t),n&&i.listen(),i}return b};e.min=r.compose(n,e.min),e.max=r.compose(n,e.max)}else e instanceof k?(A.bind(b,"click",function(){A.fakeEvent(e.__checkbox,"click")}),A.bind(e.__checkbox,"click",function(o){o.stopPropagation()})):e instanceof H?(A.bind(b,"click",function(){A.fakeEvent(e.__button,"click")}),A.bind(b,"mouseover",function(){A.addClass(e.__button,"hover")}),A.bind(b,"mouseout",function(){A.removeClass(e.__button,"hover")})):e instanceof P&&(A.addClass(b,"color"),e.updateDisplay=r.compose(function(o){return b.style.borderLeftColor=e.__color.toString(),o},e.updateDisplay),e.updateDisplay());e.setValue=r.compose(function(b){return o.getRoot().__preset_select&&e.isModified()&&Z(o.getRoot(),!0),b},e.setValue)}(o,l,n),o.__controllers.push(n),n}function eo(o,b){return document.location.href+"."+b}function to(o,b,e){var t=document.createElement("option");t.innerHTML=b,t.value=b,o.__preset_select.appendChild(t),e&&(o.__preset_select.selectedIndex=o.__preset_select.length-1)}function no(o,b){b.style.display=o.useLocalStorage?"block":"none"}function io(o){var b=void 0;function e(e){return e.preventDefault(),o.width+=b-e.clientX,o.onResize(),b=e.clientX,!1}function t(){A.removeClass(o.__closeButton,J.CLASS_DRAG),A.unbind(window,"mousemove",e),A.unbind(window,"mouseup",t)}function n(n){return n.preventDefault(),b=n.clientX,A.addClass(o.__closeButton,J.CLASS_DRAG),A.bind(window,"mousemove",e),A.bind(window,"mouseup",t),!1}o.__resize_handle=document.createElement("div"),r.extend(o.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),A.bind(o.__resize_handle,"mousedown",n),A.bind(o.__closeButton,"mousedown",n),o.domElement.insertBefore(o.__resize_handle,o.domElement.firstElementChild)}function ro(o,b){o.domElement.style.width=b+"px",o.__save_row&&o.autoPlace&&(o.__save_row.style.width=b+"px"),o.__closeButton&&(o.__closeButton.style.width=b+"px")}function so(o,b){var e={};return r.each(o.__rememberedObjects,function(t,n){var i={},s=o.__rememberedObjectIndecesToControllers[n];r.each(s,function(o,e){i[e]=b?o.initialValue:o.getValue()}),e[n]=i}),e}J.toggleHide=function(){Y=!Y,r.each(W,function(o){o.domElement.style.display=Y?"none":""})},J.CLASS_AUTO_PLACE="a",J.CLASS_AUTO_PLACE_CONTAINER="ac",J.CLASS_MAIN="main",J.CLASS_CONTROLLER_ROW="cr",J.CLASS_TOO_TALL="taller-than-window",J.CLASS_CLOSED="closed",J.CLASS_CLOSE_BUTTON="close-button",J.CLASS_CLOSE_TOP="close-top",J.CLASS_CLOSE_BOTTOM="close-bottom",J.CLASS_DRAG="drag",J.DEFAULT_WIDTH=245,J.TEXT_CLOSED="Close Controls",J.TEXT_OPEN="Open Controls",J._keydownHandler=function(o){"text"===document.activeElement.type||72!==o.which&&72!==o.keyCode||J.toggleHide()},A.bind(window,"keydown",J._keydownHandler,!1),r.extend(J.prototype,{add:function(o,b){return bo(this,o,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(o,b){return bo(this,o,b,{color:!0})},remove:function(o){this.__ul.removeChild(o.__li),this.__controllers.splice(this.__controllers.indexOf(o),1);var b=this;r.defer(function(){b.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&K.removeChild(this.domElement);var o=this;r.each(this.__folders,function(b){o.removeFolder(b)}),A.unbind(window,"keydown",J._keydownHandler,!1),q(this)},addFolder:function(o){if(void 0!==this.__folders[o])throw new Error('You already have a folder in this GUI by the name "'+o+'"');var b={name:o,parent:this};b.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[o]&&(b.closed=this.load.folders[o].closed,b.load=this.load.folders[o]);var e=new J(b);this.__folders[o]=e;var t=Q(this,e.domElement);return A.addClass(t,"folder"),e},removeFolder:function(o){this.__ul.removeChild(o.domElement.parentElement),delete this.__folders[o.name],this.load&&this.load.folders&&this.load.folders[o.name]&&delete this.load.folders[o.name],q(o);var b=this;r.each(o.__folders,function(b){o.removeFolder(b)}),r.defer(function(){b.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var o=this.getRoot();if(o.scrollable){var b=A.getOffset(o.__ul).top,e=0;r.each(o.__ul.childNodes,function(b){o.autoPlace&&b===o.__save_row||(e+=A.getHeight(b))}),window.innerHeight-b-20<e?(A.addClass(o.domElement,J.CLASS_TOO_TALL),o.__ul.style.height=window.innerHeight-b-20+"px"):(A.removeClass(o.domElement,J.CLASS_TOO_TALL),o.__ul.style.height="auto")}o.__resize_handle&&r.defer(function(){o.__resize_handle.style.height=o.__ul.offsetHeight+"px"}),o.__closeButton&&(o.__closeButton.style.width=o.width+"px")},onResizeDebounced:r.debounce(function(){this.onResize()},50),remember:function(){if(r.isUndefined(U)&&((U=new I).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var o=this;r.each(Array.prototype.slice.call(arguments),function(b){0===o.__rememberedObjects.length&&function(o){var b=o.__save_row=document.createElement("li");A.addClass(o.domElement,"has-save"),o.__ul.insertBefore(b,o.__ul.firstChild),A.addClass(b,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;",A.addClass(e,"button gears");var t=document.createElement("span");t.innerHTML="Save",A.addClass(t,"button"),A.addClass(t,"save");var n=document.createElement("span");n.innerHTML="New",A.addClass(n,"button"),A.addClass(n,"save-as");var i=document.createElement("span");i.innerHTML="Revert",A.addClass(i,"button"),A.addClass(i,"revert");var s=o.__preset_select=document.createElement("select");o.load&&o.load.remembered?r.each(o.load.remembered,function(b,e){to(o,e,e===o.preset)}):to(o,z,!1);if(A.bind(s,"change",function(){for(var b=0;b<o.__preset_select.length;b++)o.__preset_select[b].innerHTML=o.__preset_select[b].value;o.preset=this.value}),b.appendChild(s),b.appendChild(e),b.appendChild(t),b.appendChild(n),b.appendChild(i),G){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),d=document.getElementById("dg-save-locally");d.style.display="block","true"===localStorage.getItem(eo(o,"isLocal"))&&l.setAttribute("checked","checked"),no(o,a),A.bind(l,"change",function(){o.useLocalStorage=!o.useLocalStorage,no(o,a)})}var c=document.getElementById("dg-new-constructor");A.bind(c,"keydown",function(o){!o.metaKey||67!==o.which&&67!==o.keyCode||U.hide()}),A.bind(e,"click",function(){c.innerHTML=JSON.stringify(o.getSaveObject(),void 0,2),U.show(),c.focus(),c.select()}),A.bind(t,"click",function(){o.save()}),A.bind(n,"click",function(){var b=prompt("Enter a new preset name.");b&&o.saveAs(b)}),A.bind(i,"click",function(){o.revert()})}(o),-1===o.__rememberedObjects.indexOf(b)&&o.__rememberedObjects.push(b)}),this.autoPlace&&ro(this,this.width)},getRoot:function(){for(var o=this;o.parent;)o=o.parent;return o},getSaveObject:function(){var o=this.load;return o.closed=this.closed,this.__rememberedObjects.length>0&&(o.preset=this.preset,o.remembered||(o.remembered={}),o.remembered[this.preset]=so(this)),o.folders={},r.each(this.__folders,function(b,e){o.folders[e]=b.getSaveObject()}),o},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=so(this),Z(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(o){this.load.remembered||(this.load.remembered={},this.load.remembered[z]=so(this,!0)),this.load.remembered[o]=so(this),this.preset=o,to(this,o,!0),this.saveToLocalStorageIfPossible()},revert:function(o){r.each(this.__controllers,function(b){this.getRoot().load.remembered?oo(o||this.getRoot(),b):b.setValue(b.initialValue),b.__onFinishChange&&b.__onFinishChange.call(b,b.getValue())},this),r.each(this.__folders,function(o){o.revert(o)}),o||Z(this.getRoot(),!1)},listen:function(o){var b=0===this.__listening.length;this.__listening.push(o),b&&function o(b){0!==b.length&&V.call(window,function(){o(b)});r.each(b,function(o){o.updateDisplay()})}(this.__listening)},updateDisplay:function(){r.each(this.__controllers,function(o){o.updateDisplay()}),r.each(this.__folders,function(o){o.updateDisplay()})}});var ao={Color:$,math:u,interpret:d},lo={Controller:w,BooleanController:k,OptionController:S,StringController:O,NumberController:R,NumberControllerBox:L,NumberControllerSlider:N,FunctionController:H,ColorController:P},co={dom:A},uo={GUI:J},ho=J,_o={color:ao,controllers:lo,dom:co,gui:uo,GUI:ho};b.default=_o},function(o,b,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const t=e(4),n=e(3),i=e(2),r=e(1),s=e(0),a=window.innerWidth,l=window.innerHeight,d=[0,0,0,255],c=document.createElement("canvas");let u;document.body.appendChild(c),c.style.width=a+"px",c.style.height=l+"px";const h=new t.GUI,_={speed:10,resolution:.3,initialDensity:.1,restart:()=>{u=void 0,g()},figures:{}};h.add(_,"resolution",.01,1).onChange(()=>g()),h.add(_,"initialDensity",0,1).onChange(()=>g()),h.add(_,"speed",0,10,1),h.add(_,"restart");const f=h.addFolder("Figures");for(const o in r.figures)_.figures[o]=(()=>{u=s.readRLE(r.figures[o]),g()}),f.add(_.figures,o);let p,m;function g(){const o=u?0:_.initialDensity;p=new i.Game([Math.floor(a*_.resolution),Math.floor(l*_.resolution)],o),u&&p.addFigure(Math.floor((p.width-u.width)/2),Math.floor((p.height-u.height)/2),u),m=new n.Render(c,[p.width,p.height]),$(p,m)}function $(o,b){const{field:e}=o;for(let o=0;o<e.length;o++)0!==e[o]&&b.drawByIndex(o,d);b.commit()}g();let v=Date.now();requestAnimationFrame(function o(){if(requestAnimationFrame(o),p&&m&&0!==_.speed){const o=Date.now(),b=-984/9,e=1e3-b;o-v>b*_.speed+e&&(console.time("step"),p.step(),$(p,m),console.timeEnd("step"),v=o)}})}]);
//# sourceMappingURL=index.js.map